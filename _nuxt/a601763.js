(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{912:function(e,r,t){"use strict";t.r(r);t(67),t(98),t(56),t(44),t(55),t(25),t(68),t(51),t(69);var n=t(32),c=t(21),o=(t(79),t(57)),d=t(269),v=t(70);function l(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}var _={name:"EditISCN",data:function(){return{iscnId:"",iscnIdPrefix:"",owner:"",contentMetadata:{},receiver:"",INDEXER:v.d}},fetch:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.iscnIdPrefix=Object(d.a)(e.$route.params.id),r.next=3,e.$axios.$get("/iscn/records?iscn_id_prefix=".concat(e.iscnIdPrefix,"&reverse=true&limit=1"));case 3:t=r.sent,n=t.records[0].data,e.iscnId=n["@id"],e.owner=n.owner,e.contentMetadata=n.contentMetadata;case 8:case"end":return r.stop()}}),r)})))()},computed:f(f({},Object(o.e)("wallet",{walletAddress:function(e){return e.walletAddress},txHash:function(e){return e.txHash},isSending:function(e){return e.isSending},error:function(e){return e.error}})),{},{validateAddress:function(){return Object(d.b)(this.receiver)}}),methods:{transfer:function(){this.$store.dispatch("wallet/transfer",{iscnId:this.iscnId,receiver:this.receiver})}}},w=t(43),component=Object(w.a)(_,(function(){var e=this,r=e._self._c;return e.$fetchState.pending?r("p",[e._v("\n  Loading...\n")]):e.$fetchState.error?r("p",[e._v("\n  An error occurs :(\n")]):e.walletAddress?e.walletAddress!==e.owner?r("p",{staticClass:"error"},[r("strong",[e._v("You are not the owner of this ISCN")])]):r("div",[r("p",[e._v(e._s(e.iscnId))]),e._v(" "),r("p",[e._v("Owner: "+e._s(e.owner))]),e._v(" "),r("p",[e._v(e._s(e.contentMetadata.name))]),e._v(" "),r("label",[e._v("Transfer to:\n    "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.receiver,expression:"receiver"}],attrs:{type:"text",size:"40"},domProps:{value:e.receiver},on:{input:function(r){r.target.composing||(e.receiver=r.target.value)}}}),e._v(" "),e.receiver&&!e.validateAddress?r("p",{staticClass:"error"},[e._v("Invalid receiver address")]):r("br")]),e._v(" "),r("button",{staticClass:"button",attrs:{disabled:!e.validateAddress},on:{click:e.transfer}},[e._v("\n    Transfer\n  ")]),e._v(" "),e.isSending?r("p",[e._v("\n    Sending...\n  ")]):r("p",[r("a",{attrs:{href:"".concat(e.INDEXER,"/txs/").concat(e.txHash)}},[e._v("\n      "+e._s(e.txHash)+"\n    ")])]),e._v(" "),e.error?r("p",{staticClass:"error"},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e()]):r("p",[r("strong",[e._v("Connect wallet to continue")])])}),[],!1,null,null,null);r.default=component.exports}}]);